<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="miaov.js"></script>
	<script type="text/javascript">
		function toShake(el,attr,second,callBack){
			if(el.shake){
				return;
			}
			var arr = [];
			var b = css(el,attr);
			var nub = 0;
			for(var i = second-1; i >= 0; i--){
				i%2?arr.push(i):arr.push(-i);
			}
			el.shake = setInterval(
				function(){
					if(nub >= second){
						clearInterval(el.shake);
						callBack&&callBack();
					} else {
						var val = b + arr[nub];
						css(el,attr,val);	
						nub++;
					}
				},40
			);
		}
		window.onload = function(){
			var box = getId("box");
			box.onclick = function(){
				toShake(box,"left",30,function(){
					mTween(box,{top:200,opacity:0},800,"easeBoth");
				});
			};
		};
	</script>
	<style type="text/css">
		#box{
			width: 100px;
			height: 100px;
			position: absolute;
			left: 100px;
			top: 100px;
			background: red;
		}
	</style>
</head>
<body>
	<div id="box"></div>
</body>
</html>