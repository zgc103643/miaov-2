<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	<ul id="ul">
		<li class="li1 li2"></li>
		<li class="li2"></li>
		<li class="li3"></li>
		<li class="li1"></li>
	</ul>
	<ul id="ul2">
		<li class="li1 li2"></li>
		<li class="li2"></li>
		<li class="li3"></li>
		<li class="li1"></li>
	</ul>
<script type="text/javascript">
	/*
		getByClassName:
			选择class的
		IE9以下浏览器不兼容
	*/
	//var li1 = document.getElementsByClassName('li1');
	
	//var str = 'li1 li2';
	
	//console.log(str.replace(/\b/g,'|'))
	
	
	
	//alert(document.getElementsByClassName)
	
	
	var ul = document.getElementById('ul2');
	
	function getByClass(str,parent){
		parent = parent?parent:document;
		if(parent.getElementsByClassName){
			return parent.getElementsByClassName(str);
		}else{
			var arr = [];
			var aEle = parent.getElementsByTagName('*');
			var re = new RegExp('\\b'+str+'\\b');  //   li1
			for(var i=0;i<aEle.length;i++){
				if(re.test(aEle[i].className)){
					arr.push(aEle[i]);
				}
			}
			return arr;
		}
	}
	
	
	var li1 = getByClass('li1',ul);
	
	
	
	
	
	for(var i=0;i<li1.length;i++){
		li1[i].style.background = 'red';
	}
	
	
</script>
</body>
</html>