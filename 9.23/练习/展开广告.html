<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		body {
			margin: 0;
		} 
		#banner {
			position: absolute;
			top: 0;
			left: 15px;
			background: #d9534f;
			height: 0;
			overflow: hidden;
			transition: .5s;
		}
		img {
			display: block;
			margin:0 auto;
		}
	</style>
	<script type="text/javascript">
	// 1. 页面加载完整之后
	// 2. 延迟2秒
	// 3. banner高度动画展开
	// 4. 展示3秒
	// 5. banner高度动画收缩
	function css(el,attr){
		if(el.currentStyle) {
			return el.currentStyle[attr];	
		} else {
			return getComputedStyle(el)[attr];
		}
	}
	window.onload = function() {
		var banner = document.getElementById("banner");
		var img = document.querySelector("img");
		var timer = 0;
		var target = 165;
		setTimeout(		//展开开启定时器
			function() {//展开开启定时器函数，延时2s
				timer = setInterval(		//展开循环定时器获取编号（timer）
					function() {		
						var height = parseFloat(css(banner,"height"));		//获得banner实时height值
						if(height >= target) {		//当height大于目标高度时
							clearInterval(timer);	//停止名为timer的函数
							setTimeout(				//
								function(){
									timer = setInterval(
										function(){
											var height = parseFloat(css(banner,"height"));		//获得banner实时height值
											if(height <= 0){
												clearInterval(timer);
											} else{
												banner.style.height = height - 20 +"px";
											}
										},20	
									)
								},3000
							)	
						} else {
							banner.style.height = height + 20 +"px";	//在未达到目标高度时每次增加20px
						}	
					},20
				)		
			},2000
		);
	}
	</script>
</head>
<body>
<!--
	1. 页面加载完整之后
	2. 延迟2秒
	3. banner高度动画展开
	4. 展示3秒
	5. banner高度动画收缩
-->
<div id="banner">
	<img src="banner.png">
</div>
<img src="wrap.png">
</body>
</html>