<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		body {
			margin: 0;
		} 
		#banner {
			position: absolute;
			top: 0;
			left: 15px;
			background: #d9534f;
			height: 0;
			overflow: hidden;
			transition: .5s;
		}
		img {
			display: block;
			margin:0 auto;
		}
	</style>
	<script type="text/javascript">
	// 1. 页面加载完整之后
	// 2. 延迟2秒
	// 3. banner高度动画展开
	// 4. 展示3秒
	// 5. banner高度动画收缩
	function css(el,attr){
		if(el.currentStyle) {
			return el.currentStyle[attr];	
		} else {
			return getComputedStyle(el)[attr];
		}
	}
	window.onload = function() {
		var banner = document.getElementById("banner");
		var img = document.querySelector("img");
		var timer = 0;
		var target = 165;
		//var height = parseFloat(css(banner,"height"));

		setTimeout(
			function(){
				timer = setInterval(
					function(){
						var height = parseFloat(css(banner,"height"));
						if(height > target){
							clearInterval(timer);
							// setTimeout(
							// 	function(){
							// 		timer = setInterval(
							// 			function(){
							// 				var height = parseFloat(css(banner,"height"));
							// 				if(height < 0){
							// 					clearInterval(timer);
							// 				}
							// 				banner.style.height = height - 20 + "px";
							// 			},20
							// 		)
							// 	},3000
							// )
						}
						banner.style.height = height + 20 + "px";
					},20
				)
				
			},2000
		)
	}
	</script>
</head>
<body>
<!--
	1. 页面加载完整之后
	2. 延迟2秒
	3. banner高度动画展开
	4. 展示3秒
	5. banner高度动画收缩
-->
<div id="banner">
	<img src="banner.png">
</div>
<img src="wrap.png">
</body>
</html>