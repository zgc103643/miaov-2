<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		mark {
			margin: 0 5px;
		}
	</style>
</head>
<body>
<section class="wrap">
	<div id="selector">
		你的选择:
	</div>
	<ul>
		<li>
			品牌：
				<a href="javascript:;">北京陶然网瘾戒除</a>
				<a href="javascript:;">山东戒网瘾学校</a>
				<a href="javascript:;">戒网瘾新未来</a>
		</li>
		<li>
			方法：
				<a href="javascript:;">电击</a>
				<a href="javascript:;">杨永信</a>
		</li>
		<li>
			电力：
				<a href="javascript:;">30v</a>
				<a href="javascript:;">40v</a>
				<a href="javascript:;">50v</a>
				<a href="javascript:;">220v瞬间根治</a>
		</li>
	</ul>
</section>
<script type="text/javascript">
(function(){
	var ul = document.querySelector('ul');
	var lis = ul.querySelectorAll('li');
	//获取所有ul和其内部的所有li
	var option = ul.querySelectorAll('a');
	//获取所有可点击标签
	var selector = document.querySelector('#selector');
	//获取被选中标签父级
	var arr = [];
	//获取被选中标签存放数组
	for(var i = 0; i < lis.length; i++){
		lis[i].index = i;
	}
	//为被点击标签父级也就是页面上所有li添加index
	/*
		生成一个节点
		添加节点中的内容
		把节点放在数组对应位
		清除之前的内容
		根据数组再重新生成
	*/
	for(var i = 0; i < option.length; i++){
		option[i].onclick = function(){
		//在option被点击时
			var pid = this.parentNode.index;
			//变量pid为被点击项父级索引值
			var mark = document.createElement("mark");
			var a = document.createElement("a");
			//var isReplace = false;
			a.href = "javascript:;";
			a.innerHTML = "x";
			a.onclick = function (){
				selector.removeChild(mark);
				arr[pid] = "";
			};
			mark.innerHTML = this.innerHTML;
			//当前项内容复制放入mark标签
			mark.appendChild(a);
			mark.pid = pid;
			arr[pid] = mark;
			//定义数组第pid位与mark标签一致
			console.log(arr);
			selector.innerHTML = "你的选择:";
			for(var i = 0; i < arr.length; i++){
				if(arr[i]){
					selector.appendChild(arr[i]);
				}
			}
		};
	}
})();
</script>
</body>
</html>