<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
#box {
	width: 200px;
	height: 200px;
	background: red;
	margin: 100px auto 0;
	/*transform: rotate(30deg);*/
}
</style>
<script type="text/javascript">
/* transform相关样式只有通过css函数设置的才能通过css函数去获取 */
function css(el,attr,val) {
	/*if(attr == "rotate"||attr == "rotateX"||attr == "rotateY"||attr == "rotateZ"||attr == "scale"||attr == "scaleY"||attr == "scaleX"||attr == "skewX")*/
	switch(attr){
		case "rotate":
		case "rotateX":
		case "rotateY":
		case "rotateZ":
		case "scale":
		case "scaleX":
		case "scaleY":
		case "skewX":
		case "skewY":
		case "translateX":
		case "translateY":
		case "translateZ":
			return cssTransform(el,attr,val)
	}
	if(arguments.length < 3) {
		var val  = 0;
		if(el.currentStyle) {
			val = el.currentStyle[attr];
		} else {
			val = getComputedStyle(el)[attr];
		}
		if(attr == "opacity") {
			val*=100;
		}
		return parseFloat(val);
	}
	if(attr == "opacity") {
		el.style.opacity = val/100;
		el.style.filter = "alpha(opacity = "+val+")";
	} else {
		el.style[attr] = val + "px";
	}
}
function cssTransform(el,attr,val){
	if(typeof el.transform == "undefined"){
		el.transform = {};
	}
	if(typeof val == "undefined"){
		if(!el.transform[attr]){
			switch(s){
				case "scale":
				case "scaleX":
				case "scaleY":
					el.transform[attr] = 1;
					break;
				default:
					el.transform[attr] = 0;	
			}
		}
		return el.transform[attr];
	} else {
		var value = "";
		el.transform[attr] = val;
		for(var s in el.transform){
			switch(s){
				case "rotate":
				case "rotateX":
				case "rotateY":
				case "rotateZ":
				case "skewX":
				case "skewY":
					value += " "+s+"("+el.transform[s]+"deg)";
					break;
				case "translateX":
				case "translateY":
				case "translateZ":	
					value += " "+s+"("+el.transform[s]+"px)";
					break;
				case "scale":
				case "scaleX":
				case "scaleY":	
					value += " "+s+"("+el.transform[s]+")";
					break;	
			}
			
		}
		el.style.WebkitTransform = el.style.MozTransform = el.style.transform = value;
		//console.log(value);
	}
}
window.onload = function(){
	var box = document.querySelector('#box');
	css(box,"translateX",100);
	css(box,"rotate",45);
	css(box,"scale",.5);
	console.log(css(box,"scale"));
};
</script>
</head>
<body>
<div id="box"></div>	
</body>
</html>